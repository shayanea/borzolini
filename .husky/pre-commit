#!/usr/bin/sh

# Run lint-staged for staged files
npx lint-staged

# Additional check for console statements in production code
if [ "$NODE_ENV" = "production" ]; then
  echo "🔍 Checking for console statements in production build..."
  if grep -r "console\." src/ --include="*.ts" --include="*.tsx" | grep -v "console.error"; then
    echo "❌ Console statements found! Please remove them before committing."
    echo "💡 Use the useLogger hook instead: import { useLogger } from '@/hooks/use-logger'"
    exit 1
  fi
  echo "✅ No console statements found in production code"
fi
